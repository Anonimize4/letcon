# ===================================================================
# SUPABASE CONFIGURATION - Copy to .env and fill in your passwords
# ===================================================================

# Application
NODE_ENV=development
PORT=5000
API_VERSION=v1

# Database Configuration (Supabase Connection Pooler - RECOMMENDED)
# Use this format for Prisma and serverless environments
DATABASE_URL=postgresql://postgres.mmbcmttkzbmilftkxhkx:YOUR_DATABASE_PASSWORD@aws-1-eu-west-1.pooler.supabase.com:6543/postgres?pool_mode=transaction

# Alternative: Direct database connection (for migrations, bypasses pooler)
# DATABASE_URL_DIRECT=postgresql://postgres:YOUR_DATABASE_PASSWORD@db.mmbcmttkzbmilftkxhkx.supabase.co:5432/postgres?sslmode=require

# Individual Database Components (using pooler settings)
DB_HOST=aws-1-eu-west-1.pooler.supabase.com
DB_PORT=6543
DB_NAME=postgres
DB_USER=postgres.mmbcmttkzbmilftkxhkx
DB_PASSWORD=YOUR_DATABASE_PASSWORD

# Supabase API Configuration
SUPABASE_URL=https://mmbcmttkzbmilftkxhkx.supabase.co
SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY

# ===================================================================
# INSTRUCTIONS:
# 1. Copy this file: cp .env.supabase-example .env
# 2. Replace all YOUR_* placeholders with actual values from Supabase Dashboard
# 3. Get DATABASE credentials from: Supabase Dashboard → Settings → Database
# 4. Get API keys from: Supabase Dashboard → Settings → API
# ===================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Docker Configuration
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_NETWORK_NAME=cybersec-training
CONTAINER_PREFIX=cybersec-
MAX_CONTAINERS_PER_USER=5
CONTAINER_TIMEOUT=3600

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN=http://localhost:3000
SESSION_SECRET=session-secret-key

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
FROM_EMAIL=noreply@cybersectraining.com

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=.pdf,.doc,.docx,.txt,.md

# Lab Configuration
LAB_INSTANCE_TIMEOUT=1800
LAB_MAX_CONCURRENT_SESSIONS=100
LAB_CLEANUP_INTERVAL=300000

# Monitoring Configuration
LOG_LEVEL=info
ENABLE_METRICS=false
METRICS_PORT=9090
